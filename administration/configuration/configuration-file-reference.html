<!DOCTYPE html>
<html>
<head>
  <title>Configuration</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="pandoc" />
<link href="https://fonts.googleapis.com/css?family=Lato:400,400i,700,700i" rel="stylesheet">
<script>
window._pageRelpath="../../";
</script>
<script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
<script
src="https://code.jquery.com/jquery-2.2.4.min.js"
integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
crossorigin="anonymous"></script>
<script
src="https://code.jquery.com/ui/1.11.3/jquery-ui.min.js"
integrity="sha256-xI/qyl9vpwWFOXz7+x/9WkG5j/SVnSw21viy8fWwbeE="
crossorigin="anonymous"></script>
<script src="../../jquery.autocomplete.min.js"></script>
<script src="../../docs-autocomplete.js"></script>
<!-- Latest compiled and minified JavaScript -->
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../styles.css" type="text/css" />
</head>
<body data-spy="scroll" data-target=".toc-nav" class="navbar-is-fixed-top">
<nav role="navigation" aria-label="main navigation" class="navbar is-fixed-top">
  <div class="container">
    <div class="navbar-brand"><a href="https://www.rundeck.com/open-source" class="navbar-item logo"><span
          data-v-ddc5174c=""><svg width="159" height="23" viewBox="0 0 159 23" xmlns="http://www.w3.org/2000/svg"
            class="logo-image" data-v-ddc5174c="">
            <g class="logo-type" fill="none" fill-rule="evenodd" data-v-ddc5174c="">
              <path
                d="M36.133 10.399v-6.26h1.073c2.78 0 4.17 1.01 4.17 3.028 0 2.155-1.43 3.232-4.285 3.232h-.959zm6.963.332c.813-1.005 1.219-2.206 1.219-3.603 0-1.788-.648-3.227-1.942-4.317-1.174-.98-3.081-1.47-5.722-1.47h-3.535v19.725h3.017v-8.074h.542l5.71 8.074h3.69l-6.189-8.407c1.33-.28 2.4-.923 3.21-1.928zM60.561 13.222c0 1.72-.28 2.96-.842 3.716-.836 1.134-2.02 1.7-3.547 1.7-1.52 0-2.697-.566-3.534-1.7-.56-.783-.84-2.021-.84-3.716V1.341H48.78V14.04c0 2.077.656 3.789 1.968 5.135 1.467 1.499 3.276 2.247 5.424 2.247 2.15 0 3.961-.748 5.438-2.247 1.312-1.346 1.967-3.058 1.967-5.135V1.341h-3.016v11.881zM82.944 15.048L68.367 0v21.065h3.016V7.256l14.577 15.01V1.341h-3.016zM100.938 16.428a6.872 6.872 0 0 1-2.434 1.418c-.897.282-2.024.422-3.379.422h-1.359V4.138h1.36c2.571 0 4.518.602 5.838 1.802 1.468 1.346 2.201 3.1 2.201 5.264 0 2.146-.742 3.887-2.227 5.224m2.175-12.544c-1.019-.92-2.153-1.571-3.404-1.955-1.166-.392-2.753-.588-4.764-.588H90.75v19.724h4.142c2.028 0 3.595-.183 4.7-.55 1.182-.365 2.312-1.017 3.391-1.954 2.15-1.873 3.224-4.325 3.224-7.357 0-3.024-1.03-5.463-3.094-7.32M110.001 21.065h11.03v-2.797h-8.014v-6.592h7.78V8.878h-7.78V4.14h8.014V1.341h-11.03zM126.52 4.574c-1.684 1.966-2.526 4.206-2.526 6.72 0 2.8 1.006 5.194 3.017 7.177 2.02 1.968 4.458 2.951 7.314 2.951 1.9 0 3.711-.48 5.437-1.442v-3.59c-.49.409-.96.758-1.404 1.047-.445.29-.873.52-1.288.69-.743.34-1.644.512-2.706.512-2.054 0-3.789-.712-5.205-2.133-1.415-1.424-2.122-3.17-2.122-5.24 0-2.094.707-3.864 2.122-5.313 1.407-1.457 3.138-2.184 5.192-2.184 1.865 0 3.668.72 5.411 2.159V2.402c-1.674-.963-3.408-1.444-5.204-1.444-3.288 0-5.967 1.205-8.039 3.615M149.912 10.27l9.037-8.928h-4.027l-7.78 7.869V1.34h-3.016v19.724h3.016v-8.163l.62-.613 7.199 8.776H159z"
                fill="#000" data-v-ddc5174c=""></path>
              <g class="logo-arrow" fill="#F7403A" data-v-ddc5174c="">
                <path
                  d="M0 21.065h13.404l2.501-3.945H2.501zM15.905 5.286L13.404 1.34H0l2.501 3.945zM18.406 9.23H5.002l1.25 1.973-1.25 1.973h13.404l1.25-1.973z"
                  data-v-ddc5174c=""></path>
              </g>
            </g>
          </svg></span></a> <a role="button" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample"
        class="navbar-burger burger"><span aria-hidden="true"></span> <span aria-hidden="true"></span> <span
          aria-hidden="true"></span></a></div>
    <div class="navbar-menu">
      <div class="navbar-start">
      </div>
      <div class="navbar-end">
        <div class="navbar-item">
        <form role="search"  action="/search/">
          <div class="field has-addons">
            <div class="control">
              <input type="text" class="input form-control navquery" name="q" placeholder="Search" id="searchQuery" autocomplete="off">
            </div>
            <div class="control">
              <button type="submit" class="button red-button">
                Search
              </button>
            </div>
          </div>
        </form>
        </div>
      </div>
    </div>
  </div>
</nav>
<div class="container">
    <nav class="breadcrumb" aria-label="breadcrumbs">
        <div class="columns">
            <div class="column is-two-thirds">
            <ul>
                
                    
                        <li><a href="../../index.html">Rundeck Documentation (3.1.0-rc2)</a></li>
                    
                        <li><a href="../index.html">Administrator Guide</a></li>
                    
                
                <li ><a href="index.html">Rundeck Configuration</a></li>
                <li class="active"><a href="configuration-file-reference.html">Configuration File Reference</a></li>
            </ul>
            </div>
            <div class="column">
            <ul>
                <li class="previous"><a href="localization.html"><i class="fas fa-arrow-left"></i>Localization</a></li>
                <li class="next"><a href="system-properties-configuration.html">System Properties Configuration <i class="fas fa-arrow-right"></i></a></li>
            </ul>
            </div>
        </div>
    </nav>
    <div class="breadcrumb-footer">
        <a class="btn btn-link top" href="https://github.com/rundeck/docs/issues/new?labels=bug&title=Documentation+bug+in+file+administration/configuration/config-file-reference.md&template=documentation-bug.md"> <i class="fas fa-flag"></i> Report a problem </a>
        <a class="btn btn-link top btn-edit-this-page" href="https://github.com/rundeck/docs/edit/3.0.x/en/administration/configuration/config-file-reference.md"><i class="fas fa-pencil-alt"></i> Edit this page</a>
    </div>
</div>
<div id="docbody">
<div class="container">
<div class="columns">
<div class="column is-one-quarter toc-nav">
<section class="section sticky-toc">
<div class="nav">
<ul>
<li><a href="#configuration-layout">Configuration layout</a><ul>
<li><a href="#rpm-layout">RPM layout</a></li>
<li><a href="#launcher-layout">Launcher layout</a></li>
</ul></li>
<li><a href="#configuration-files">Configuration files</a><ul>
<li><a href="#admin.aclpolicy">admin.aclpolicy</a></li>
<li><a href="#framework.properties">framework.properties</a><ul>
<li><a href="#global-execution-variables">Global execution variables</a></li>
</ul></li>
<li><a href="#log4j.properties">log4j.properties</a></li>
<li><a href="#cli-log4j.properties">cli-log4j.properties</a></li>
<li><a href="#profile">profile</a></li>
<li><a href="#project.properties">project.properties</a><ul>
<li><a href="#file-copier-destination-directory">File copier destination directory</a></li>
<li><a href="#project-global-execution-variables">Project Global execution variables</a></li>
</ul></li>
<li><a href="#jaas-loginmodule.conf">jaas-loginmodule.conf</a></li>
<li><a href="#realm.properties">realm.properties</a></li>
<li><a href="#session-timeout">Session timeout</a></li>
<li><a href="#rundeck-config.properties">rundeck-config.properties</a><ul>
<li><a href="#security">Security</a></li>
<li><a href="#security-http-headers">Security HTTP Headers</a></li>
<li><a href="#local-login-form-visibility">Local Login Form Visibility</a></li>
<li><a href="#logout-behaviors">Logout behaviors</a></li>
<li><a href="#server-settings">Server Settings</a></li>
<li><a href="#execution-mode">Execution Mode</a></li>
<li><a href="#project-configuration-storage-settings">Project Configuration Storage settings</a></li>
<li><a href="#key-storage-settings">Key Storage settings</a></li>
<li><a href="#notification-email-settings">Notification email settings</a></li>
<li><a href="#custom-email-templates">Custom Email Templates</a></li>
<li><a href="#execution-finalize-retry-settings">Execution finalize retry settings</a></li>
<li><a href="#metrics-capturing">Metrics Capturing</a></li>
<li><a href="#pagination-defaults">Pagination defaults</a></li>
<li><a href="#job-remote-option-url-connection-parameters">Job Remote Option URL connection parameters</a></li>
<li><a href="#job-file-option-uploads">Job File Option Uploads</a></li>
<li><a href="#node-cache">Node Cache</a></li>
<li><a href="#groovy-config-format">Groovy config format</a></li>
<li><a href="#specify-config-file-location">Specify config file location</a></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
</section>
<div class="column">
<section class="section content">
<div class="page-header">
<h1 class="title">Configuration</h1>
</div>
<h1 id="configuration-layout">Configuration layout</h1>
<p>Configuration file layout differs between the RPM and Launcher installation methods.</p>
<h2 id="rpm-layout">RPM layout</h2>
<pre><code>/etc/rundeck
|-- admin.aclpolicy
|-- framework.properties
|-- log4j.properties
|-- profile
|-- project.properties
|-- jaas-loginmodule.conf
|-- log4j.properties
|-- realm.properties
|-- rundeck-config.properties
`-- ssl
    |-- ssl.properties
    |-- keystore (not packaged)
    `-- truststore (not packaged)
/var/lib/rundeck/exp/webapp/WEB-INF/web.xml</code></pre>
<h2 id="launcher-layout">Launcher layout</h2>
<pre><code>$RDECK_BASE/etc
|-- admin.aclpolicy
|-- framework.properties
|-- log4j.properties
|-- profile
`-- project.properties
$RDECK_BASE/server/config
|-- jaas-loginmodule.conf
|-- realm.properties
`-- rundeck-config.properties</code></pre>
<h1 id="configuration-files">Configuration files</h1>
<p>Configuration is specified in a number of standard Rundeck configuration files generated during the installation process.</p>
<p>The purpose of each configuration file is described in its own section.</p>
<h2 id="admin.aclpolicy">admin.aclpolicy</h2>
<p>Administrator access control policy defined with a [aclpolicy] document.</p>
<p>This file governs the access for the “admin” group and role.</p>
<p>See <a href="../security/access-control-policy.html" title="Administrator Guide - Security - Access Control Policy">role based access control</a> for information about setting up policy files for other user groups.</p>
<h2 id="framework.properties">framework.properties</h2>
<p>Configuration file used by shell tools and core Rundeck services. This file will be created for you at install time.</p>
<p>Some important settings:</p>
<ul>
<li><code>framework.server.hostname</code>: Hostname of the Rundeck server node</li>
<li><code>framework.server.name</code>: Name (identity) of the Rundeck server node</li>
<li><code>framework.projects.dir</code>: Path to the directory containing Rundeck Project directories. Default is <code>$RDECK_BASE/projects</code>.</li>
<li><code>framework.var.dir</code>: Base directory for output and temp files used by the server and CLI tools. Default is <code>$RDECK_BASE/var</code>.</li>
<li><code>framework.logs.dir</code>: Directory for log files written by core services and Rundeck Server’s Job executions. Default is <code>$RDECK_BASE/var/logs</code></li>
<li><code>framework.server.username</code>: Username for connection to the Rundeck server</li>
<li><code>framework.server.password</code>: Password for connection to the Rundeck server</li>
<li><code>framework.rundeck.url</code>: Base URL for Rundeck server.</li>
</ul>
<p>SSH Connection settings (See <a href="../projects/node-execution/ssh.html" title="Administrator Guide - Projects - Node Execution - SSH">Projects - Node Execution - SSH</a>):</p>
<ul>
<li><code>framework.ssh.keypath</code>: Path to the SSH private key file used for SSH connections</li>
<li><code>framework.ssh.user</code>: Default username for SSH Connections, if not overridden by Node specific value.</li>
<li><code>framework.ssh-connection-timeout</code>: timeout in milliseconds for SSH connections. The default is “0” (no timeout). You can modify this to change the connect/socket timeout. (Deprecated: <code>framework.ssh.timeout</code>.)</li>
<li><code>framework.ssh-command-timeout</code>: timeout in milliseconds for SSH commands. The default is “0” (no timeout). You can modify this to change the maximum time allowed for SSH commands to run.</li>
</ul>
<p>Other settings:</p>
<ul>
<li><code>framework.log.dispatch.console.format</code>: Default format for non-terse node execution logging run by the <code>dispatch</code> CLI tool.</li>
<li><code>execution.script.tokenexpansion.enabled</code>: Whether inline script token expansion is enabled, default <code>true</code>. If <code>false</code>, the “Inline Script Content” syntax described in <a href="../../manual/creating-job-workflows.html#context-variables" title="User Guide - Creating Job Workflows - Context Variables">User Guide - Creating Job Workflows - Context Variables</a> is disabled.</li>
<li><code>communityNews.disabled</code>: Default is not set, or false. Disables the external polling of Community News feed. Link will persist but will not poll, and clicking this link will open a new browser tab and navigate to the web-based version of Community News.</li>
</ul>
<p>Static authentication tokens for API access:</p>
<p>You can define the location of a .properties file in framework.properties:</p>
<ul>
<li><code>rundeck.tokens.file=/etc/rundeck/tokens.properties</code></li>
</ul>
<p>The <code>tokens.properties</code> file should contain static authentication tokens you wish to use, keyed by the associated username:</p>
<pre><code>username: token_string
username2: token_string2
...</code></pre>
<p>The token_strings can be used as Authentication tokens to the <a href="../../api/index.html#token-authentication" title="API Reference | Version 32 - Token Authentication">API</a>.</p>
<h3 id="global-execution-variables">Global execution variables</h3>
<p>Entries in <code>framework.properties</code> in the form <code>framework.globals.X=Y</code> Adds a variable <code>X</code> available in all execution contexts as <code>${globals.X}</code>.</p>
<p>Global variables can be overridden in the <a href="#project.properties"><code>project.properties</code></a> by adding a line in the form of <code>project.globals.X=Y</code> and then accessing it as <code>${globals.X}</code>.</p>
<h2 id="log4j.properties">log4j.properties</h2>
<p>Rundeck uses <a href="https://logging.apache.org/log4j/2.x/">log4j</a> as its application logging facility. This file defines the logging configuration for the Rundeck server.</p>
<h2 id="cli-log4j.properties">cli-log4j.properties</h2>
<p>This file defines the logging configuration for the Commandline tools.</p>
<h2 id="profile">profile</h2>
<p>Shell environment variables used by the shell tools. This file contains several parameters needed during the startup of the shell tools like umask, Java home and classpath, and SSL options.</p>
<h2 id="project.properties">project.properties</h2>
<p>Rundeck project configuration file when using Filesystem based project definitions (see <a href="https://rundeck.org/docs/administration/projects/configuration.html">Project Setup - Project Definitions</a>).</p>
<p>One of these is generated at project setup time. Each project has a directory within the Rundeck projects directory, and the config file is within the <code>etc</code> subdirectory:</p>
<pre><code>$RDECK_BASE/projects/[PROJECT-NAME]/etc/project.properties</code></pre>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Property</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>project.name</code></td>
<td style="text-align: left;">Declare the project name.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>project.ssh-authentication</code></td>
<td style="text-align: left;">SSH authentication type (eg, privateKey).</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>project.ssh-keypath</code></td>
<td style="text-align: left;">SSH identify file.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>service.FileCopier.default.provider</code></td>
<td style="text-align: left;">Default script file copier plugin.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>service.NodeExecutor.default.provider</code></td>
<td style="text-align: left;">Default node executor plugin.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>resources.source.N...</code></td>
<td style="text-align: left;">Defines a Resource model source see <a href="../../manual/configure.html#resource-model-sources-configuration" title="User Guide - Configure - Resource Model Sources Configuration">Resource Model Sources</a>.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>project.globals.X</code></td>
<td style="text-align: left;"><a href="#project-global-execution-variables">Defines a Project Global variable</a></td>
</tr>
</tbody>
</table>
<p>Here’s an example that configures a File source:</p>
<pre><code>resources.source.1.config.file=/var/rundeck/projects/${project.name}/etc/resources.xml
resources.source.1.config.generateFileAutomatically=true
resources.source.1.config.includeServerNode=true
resources.source.1.type=file</code></pre>
<p>Another that configures a URL source:</p>
<pre><code>resources.source.2.config.cache=true
resources.source.2.config.timeout=30
resources.source.2.config.url=http\://example.com/nodes
resources.source.2.type=url</code></pre>
<p>And one that configures a Directory source:</p>
<pre><code>resources.source.3.config.directory=/var/rundeck/projects/${project.name}/site_nodes
resources.source.3.type=directory</code></pre>
<p>Additional sources increment the source number. You can reference the project name by using the <code>${project.name}</code> context variable.</p>
<h3 id="file-copier-destination-directory">File copier destination directory</h3>
<p>When executing a Script step, the destination file path to be used when copying the script can be set using Node, Project, or Framework configuration values. Please see the plugin <a href="https://rundeck.org/docs/administration/projects/node-execution/built-in-plugins.html#file-copier-destination-directory">documentation</a></p>
<h3 id="project-global-execution-variables">Project Global execution variables</h3>
<p>Project configuration entries of the form <code>project.globals.X=Y</code> Adds a variable <code>X</code> available in all execution contexts as <code>${globals.X}</code>, and overrides any global with the same name defined in <a href="#framework.properties"><code>framework.properties</code></a>.</p>
<h2 id="jaas-loginmodule.conf">jaas-loginmodule.conf</h2>
<p><a href="https://wiki.eclipse.org/Jetty/Feature/JAAS">JAAS</a> configuration for the Rundeck server. The listing below shows the file content for a normal RPM installation. One can see it specifies the use of the PropertyFileLoginModule:</p>
<pre><code>RDpropertyfilelogin {
  org.eclipse.jetty.plus.jaas.spi.PropertyFileLoginModule required
  debug=&quot;true&quot;
  file=&quot;/etc/rundeck/realm.properties&quot;;
};</code></pre>
<h2 id="realm.properties">realm.properties</h2>
<p>Property file user directory when PropertyFileLoginModule is used. Specified from <a href="#jaas-loginmodule.conf">jaas-loginmodule.conf</a>.</p>
<h2 id="session-timeout">Session timeout</h2>
<p>See <a href="#server-settings">rundeck-config.properties &gt; Server Settings</a></p>
<p>Or set <code>server.session.timeout</code> via <a href="system-properties-configuration.html" title="Administrator Guide - Rundeck Configuration - System Properties Configuration">System Properties Configuration</a>.</p>
<h2 id="rundeck-config.properties">rundeck-config.properties</h2>
<p>This is the primary Rundeck webapp configuration file. Defines default loglevel, datasource configuration, and <a href="gui-customization.html" title="Administrator Guide - Rundeck Configuration - GUI Customization">GUI customization</a>.</p>
<p>The following sections describe configuration values for this file.</p>
<h3 id="security">Security</h3>
<ul>
<li><p><code>rundeck.security.useHMacRequestTokens</code> : <code>true/false</code>. Default: <code>true</code>. Switches between HMac based request tokens, and the default grails UUID tokens. HMac tokens have a timeout, which may cause submitted forms or actions to fail with a message like “Token has expired”. If set to false, UUIDs will be used instead of HMac tokens, and they have no timeouts. The default timeout for tokens can be changed with the java system property <code>-Dorg.rundeck.web.infosec.HMacSynchronizerTokensHolder.DEFAULT_DURATION=[timeout in ms]</code>.</p></li>
<li><p><code>rundeck.security.apiCookieAccess.enabled</code>: <code>true/false</code>. Default: <code>true</code>. Determines whether access to the API is allowed if the API client authenticates via session cookies (i.e. username and password login.) If set to <code>false</code>, the current CLI tools and API libraries will not operate correctly if they use username and password login.</p></li>
<li><p><code>rundeck.api.tokens.duration.max</code>: Duration string indicating maximum lifetime of API Tokens. If unset, the value will be “30d” (30 days). Format: “##{ydhms}” (years, days, hours, minutes, seconds). If you want to disable the max expiration you can set it to 0 and create token with 0 duration that don’t expire.</p></li>
<li><p><code>rundeck.security.csrf.referer.filterMethod</code>:<code>NONE|POST|*</code>. Set HTTP Method to filter based on Referer header. Can be POST, or &quot;*&quot; for all methods. Default: NONE (disabled)</p></li>
<li><p><code>rundeck.security.csrf.referer.allowApi</code>: <code>true|false</code>. Allow /api/* requests without requiring matching Referer header. Default: true.</p></li>
<li><p><code>rundeck.security.csrf.referer.requireHttps</code>: <code>true|false</code>. If server URL is HTTPS, Require referer header to be from HTTPS version of server URL, if false allow HTTP as well. Default: true.</p></li>
<li><p><code>rundeck.security.enforceMaxSessions</code>: <code>true|false</code>. Only allow users to log in a configured number of times. Oldest sessions are automatically logged out. <code>Default: false</code>.</p>
<p>Note: If you use the rd tool with the RD_USERNAME/RD_PASSWORD authentication this will use an active session each time your run the command. If you log into the user interface then execute rd commands you could be logged out of your web session. If you have multiple long running rd commands and you exceed the maxSessions limit, you may experience unexpected behavior. If you use api tokens with the rd tool it will not log out your interactive session. If you enable this setting and also use the rd tool, it is recommended that you use api tokens with the rd tool.</p></li>
<li><p><code>rundeck.security.maxSessions</code>: If enforceMaxSessions is true, this setting controls the number of active sessions a user is allowed to have. <code>Default: 1</code></p></li>
<li><p><code>rundeck.security.jaasRolePrefix</code>: Prefix string to add to each <em>role</em> determined via <a href="../security/authenticating-users.html#jetty-and-jaas-authentication" title="Administrator Guide - Security - Authenticating Users - Jetty And Jaas Authentication">JAAS Authentication</a>. Default: none.</p></li>
</ul>
<h3 id="security-http-headers">Security HTTP Headers</h3>
<p>Rundeck adds some HTTP headers for XSS prevention and other security reasons, as described below.</p>
<p>By default, these headers are enabled, but they can be individually disabled, or reconfigured.</p>
<p>Additionally, custom headers can be enabled if required.</p>
<pre class=".properties"><code># enable security headers filter to add these headers (default: true)
rundeck.security.httpHeaders.enabled=true

#########
# enable x-content-type-options: nosniff  (default: true)
rundeck.security.httpHeaders.provider.xcto.enabled=true

#########
# enable x-xss-protection: 1  (default: true)

rundeck.security.httpHeaders.provider.xxssp.enabled=true

# Alternates for x-xss-protection:
#
# use x-xss-protection: 1; mode=block
#

# rundeck.security.httpHeaders.provider.xxssp.config.block=true

#
# use x-xss-protection: 1; report=https://some-uri

# rundeck.security.httpHeaders.provider.xxssp.config.report=https://some-uri

########
# enable x-frame-options: deny  (default: true)

rundeck.security.httpHeaders.provider.xfo.enabled=true

# Alternate settings for x-frame-options:
#
# use x-frame-options: sameorigin

# rundeck.security.httpHeaders.provider.xfo.config.sameorigin=true

#
# use x-frame-options: allow-from: src

# rundeck.security.httpHeaders.provider.xfo.config.allowFrom=src

#######
# enable Content-Security-Policy header (default:true)

rundeck.security.httpHeaders.provider.csp.enabled=true

# You can enable the `X-` variants of Content-Security-Policy if desired, but they are disabled by default:
#
# This enables the X-Content-Security-Policy header name

# rundeck.security.httpHeaders.provider.csp.config.include-xcsp-header=true

#
# This enables the X-WebKit-CSP header name

# rundeck.security.httpHeaders.provider.csp.config.include-xwkcsp-header=true

# You can specify an explicit policy, which will override directives declared below
#

# rundeck.security.httpHeaders.provider.csp.config.policy=default-src &#39;none&#39;; connect-src &#39;self&#39; ; style-src &#39;self&#39; &#39;unsafe-inline&#39;; script-src &#39;self&#39; &#39;unsafe-inline&#39; &#39;unsafe-eval&#39;; font-src &#39;self&#39; data: ; img-src &#39;self&#39; https://media.rundeck.org ; form-action &#39;self&#39; ;

#
# Or you can specify individual directives:
#

rundeck.security.httpHeaders.provider.csp.config.default-src=none
rundeck.security.httpHeaders.provider.csp.config.connect-src=self
rundeck.security.httpHeaders.provider.csp.config.style-src=self unsafe-inline
rundeck.security.httpHeaders.provider.csp.config.script-src=self unsafe-inline unsafe-eval
rundeck.security.httpHeaders.provider.csp.config.font-src=self data:
rundeck.security.httpHeaders.provider.csp.config.img-src=self https://media.rundeck.org
rundeck.security.httpHeaders.provider.csp.config.form-action=self

#######
# enable any custom additional headers (default: false)
#
# rundeck.security.httpHeaders.provider.custom.enabled=true
# rundeck.security.httpHeaders.provider.custom.config.name=X-Other-Security-Policy
# rundeck.security.httpHeaders.provider.custom.config.value=default-src &#39;none&#39;;
# rundeck.security.httpHeaders.provider.custom.config.name2=X-other-header
# rundeck.security.httpHeaders.provider.custom.config.value2=some value</code></pre>
<p>References:</p>
<ul>
<li><a href="https://www.owasp.org/index.php/OWASP_Secure_Headers_Project" class="uri">https://www.owasp.org/index.php/OWASP_Secure_Headers_Project</a></li>
<li><a href="https://content-security-policy.com" class="uri">https://content-security-policy.com</a></li>
</ul>
<h3 id="local-login-form-visibility">Local Login Form Visibility</h3>
<ul>
<li><code>rundeck.login.localLogin.enabled</code>:<code>true/false</code>. Default <code>true</code></li>
</ul>
<p>If you have Single Sign On enabled(Enterprise only) and you want to prevent the ability for your users to login with the non-SSO form, you can set this property to false and it will suppress the non-SSO login form.</p>
<h3 id="logout-behaviors">Logout behaviors</h3>
<ul>
<li><p><code>rundeck.logout.expire.cookies</code>: comma separated list of cookie names to expire on logout</p></li>
<li><p><code>rundeck.logout.redirect.url</code>: Redirect to this url after logout. This can either be a fully qualified url or a relative path.</p></li>
</ul>
<h3 id="server-settings">Server Settings</h3>
<ul>
<li><code>server.session.timeout</code>: timeout in seconds.</li>
</ul>
<p>Note: This setting applies <em>only</em> to the embedded Jetty server, which is used for standalone war launcher, rpm or deb installs. It does not work for Tomcat installation.</p>
<p>If you are deploying the Rundeck war file to Tomcat, you can manage the session timeout setting in the <code>$TomcatBase/conf/web.xml</code> file. The setting is in minutes.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode xml"><code class="sourceCode xml"><a class="sourceLine" id="cb10-1" data-line-number="1">    <span class="kw">&lt;session-config&gt;</span> <span class="kw">&lt;session-timeout&gt;</span>30<span class="kw">&lt;/session-timeout&gt;</span> <span class="kw">&lt;/session-config&gt;</span></a></code></pre></div>
<h3 id="execution-mode">Execution Mode</h3>
<ul>
<li><code>rundeck.executionMode</code>:<code>active/passive</code>. Default <code>active</code>. Set the Execution Mode for the Rundeck server.</li>
</ul>
<p>Rundeck can be in <code>active</code> or <code>passive</code> execution mode.</p>
<ul>
<li><code>active</code> mode: Jobs, scheduled Jobs, and adhoc executions can be run.</li>
<li><code>passive</code> mode: No Jobs or adhoc executions can be run.</li>
</ul>
<p>Setting Rundeck to <code>passive</code> mode prevents users from running anything on the system and is useful when managing Rundeck server clusters.</p>
<h3 id="project-configuration-storage-settings">Project Configuration Storage settings</h3>
<p>The <a href="../projects/create-new-project.html#project-definitions" title="Administrator Guide - Projects - Create new Project - Project Definitions">Project Setup - Project Definitions</a> mechanism is configured within this file, see:</p>
<ul>
<li><a href="storage-facility.html#project-storage" title="Administrator Guide - Rundeck Configuration - Storage Facility - Project Storage">Project Storage</a></li>
</ul>
<h3 id="key-storage-settings">Key Storage settings</h3>
<p>The <a href="../security/key-storage.html" title="Administrator Guide - Security - Key Storage">Key storage</a> mechanism is configured within this file, see:</p>
<ul>
<li><a href="plugins/configuring.html#storage-plugins" title="Administrator Guide - Rundeck Configuration - Configuring Plugins - Configuring - Storage Plugins">Configuring Storage Plugins</a></li>
<li><a href="plugins/configuring.html#storage-converter-plugins" title="Administrator Guide - Rundeck Configuration - Configuring Plugins - Configuring - Storage Converter Plugins">Configuring Storage Converter Plugins</a></li>
</ul>
<h3 id="notification-email-settings">Notification email settings</h3>
<p>See <a href="email-settings.html#notification-email-settings" title="Administrator Guide - Rundeck Configuration - Email Settings - Notification Email Settings">Email Settings: Notification email settings</a></p>
<h3 id="custom-email-templates">Custom Email Templates</h3>
<p>See <a href="email-settings.html#custom-email-templates" title="Administrator Guide - Rundeck Configuration - Email Settings - Custom Email Templates">Email Settings: Custom Email Templates</a></p>
<h3 id="execution-finalize-retry-settings">Execution finalize retry settings</h3>
<p>If a sporadic DB connection failure happens when an execution finishes, Rundeck may fail to update the state of the execution in the database, causing the execution to appear is if it is still “running”.</p>
<p>Rundeck now attempts to retry the update to correctly register the final state of the execution. You can tune how many times and how often this retry occurs with these config values:</p>
<pre><code># attempt to retry the final state update
rundeck.execution.finalize.retryMax=10
rundeck.execution.finalize.retryDelay=5000

# attempt to retry updating job statistics after execution finishes
rundeck.execution.stats.retryMax=3
rundeck.execution.stats.retryDelay=5000</code></pre>
<p>Delay is in milliseconds. If a max is set to <code>-1</code>, then retries will happen indefinitely.</p>
<h3 id="metrics-capturing">Metrics Capturing</h3>
<p>Rundeck captures metrics using the <a href="http://metrics.dropwizard.io/3.0.2/">Metrics</a> library.</p>
<p>You can disable all metrics capturing with:</p>
<pre><code>rundeck.metrics.enabled=true/false</code></pre>
<p>Additional configuration for metrics:</p>
<pre><code># capture metrics for requests via a filter
rundeck.metrics.requestFilterEnabled=true/false

# use JMX
rundeck.metrics.jmxEnabled=true/false</code></pre>
<h4 id="metrics-api-endpoints">Metrics API Endpoints</h4>
<p>Rundeck exposes Metrics data via API endpoints, which are enabled by default.</p>
<p>You can disable all metrics API endpoints with:</p>
<pre><code>rundeck.metrics.api.enabled=true/false</code></pre>
<p>You can also selectively disable each endpoing by setting these config values:</p>
<pre><code>rundeck.metrics.api.[name].enabled=true/false</code></pre>
<p>Metrics names are:</p>
<ul>
<li><code>metrics</code></li>
<li><code>threads</code></li>
<li><code>ping</code></li>
<li><code>healthcheck</code></li>
</ul>
<p>See: <a href="../../api/index.html#list-metrics" title="API Reference | Version 32 - List Metrics">API &gt; List Metrics</a>.</p>
<h3 id="pagination-defaults">Pagination defaults</h3>
<p>Default paging size for the Activity page and results from execution API queries can be changed.</p>
<pre><code>rundeck.pagination.default.max=20</code></pre>
<h3 id="job-remote-option-url-connection-parameters">Job Remote Option URL connection parameters</h3>
<p>Change the defaults for for <a href="../../manual/defining-job-options.html#remote-option-values" title="User Guide - Defining Job Options - Remote Option Values">Job Remote Option Value URLs</a> loading.</p>
<p><strong>Socket read timeout</strong></p>
<p>Max wait time reading from socket.</p>
<p>Default value: <code>10</code> (seconds)</p>
<p>Change this by setting:</p>
<pre><code>rundeck.jobs.options.remoteUrlTimeout=[seconds]</code></pre>
<p><strong>Connection timeout</strong></p>
<p>Max wait time attempting to make the connection.</p>
<p>Default value: (no timeout)</p>
<p>Change this by setting:</p>
<pre><code>rundeck.jobs.options.remoteUrlConnectionTimeout=[seconds]</code></pre>
<p><strong>No response retry</strong></p>
<p>If the request is sent, but the server disconnects without a response (e.g. server is overloaded), retry the request this many times.</p>
<p>Default value: 3</p>
<p>Change this by setting:</p>
<pre><code>rundeck.jobs.options.remoteUrlRetry=[total]</code></pre>
<h3 id="job-file-option-uploads">Job File Option Uploads</h3>
<p>Values to configure file uploads for File type Job options:</p>
<p>Max temp file size. File size in bytes or with a suffix of <code>k</code>,<code>m</code>,<code>g</code>,<code>t</code> (kilo,mega,giga,tera).</p>
<pre><code>rundeck.fileUploadService.tempfile.maxsize=200M</code></pre>
<p>Max temp file expiration (duration in milliseconds). The uploaded file will be removed if not used as a job option within ths time period. (This primarily affects Job executions performed via API because the File Upload and Job Run are performed as separate steps.)</p>
<pre><code># default is 10 minutes
rundeck.fileUploadService.tempfile.expiration=600000</code></pre>
<h3 id="node-cache">Node Cache</h3>
<p>Defaults for the Node caches</p>
<dl>
<dt>Enabled: true/false (default true).</dt>
<dd><p><code>rundeck.nodeService.nodeCache.enabled=true</code> If set to false, no caching is performed.</p>
</dd>
<dt>First Load Asynch: true/false</dt>
<dd><code>rundeck.nodeService.nodeCache.firstLoadAsynch=false</code> The default for whether the first load of a project’s nodes should be performed synchronously or not. If set to <code>true</code>, and the <a href="../projects/create-new-project.html#project-nodes" title="Administrator Guide - Projects - Create new Project - Project Nodes">Project Nodes &gt; Synchronous First Load</a> value is unset, then the initial load of a Project’s nodes when the cache is empty will be done in the background asynchronously. Otherwise the initial load is done synchronously, possibly causing a delay at Rundeck startup or Job execution startup. A Project level configuration value will override this default.
</dd>
</dl>
<h3 id="groovy-config-format">Groovy config format</h3>
<p>You can change you rundeck-config.properties to a rundeck-config.groovy.</p>
<p>The groovy format is a java-like language, and it is not the same as properties.</p>
<p>Make sure you put quotes around all string values, but it is not necessary for true/false or numbers.</p>
<p>java properties format:</p>
<pre class="properties"><code>some.property=value</code></pre>
<p>groovy format:</p>
<pre class="groovy"><code>some.property=&quot;value&quot;</code></pre>
<p>You can also use nested values using curly brackets, or use dot-notation “a.b.c”, but since it is not simple text properties, strings have to be quoted.</p>
<p>E.g. : a.b.c=“blah” is the same as:</p>
<pre class="groovy"><code>a{
    b{
        c=&quot;blah&quot;
    }
}</code></pre>
<h3 id="specify-config-file-location">Specify config file location</h3>
<p>You will need to point rundeck at the new filename when you start up rundeck:</p>
<ul>
<li><p>Launcher:</p>
<pre><code>  java -jar -Drundeck.config.name=rundeck-config.groovy rundeck-launcher.jar</code></pre></li>
</ul>
<p>RPM: Add this to the <code>/etc/sysconfig/rundeckd</code> file:</p>
<pre><code>    export RDECK_CONFIG_FILE=&quot;/etc/rundeck/rundeck-config.groovy&quot;</code></pre>
<p>RPM/DEB: Add this to the <code>/etc/default/rundeckd</code> file:</p>
<pre><code>    export RDECK_CONFIG_FILE=&quot;/etc/rundeck/rundeck-config.groovy&quot;</code></pre>
</section>
</div>
</div>
</div>
</div>
<div class="container">
    <nav class="breadcrumb" aria-label="breadcrumbs">
        <div class="columns">
            <div class="column is-two-thirds">
            <ul>
                
                    
                        <li><a href="../../index.html">Rundeck Documentation (3.1.0-rc2)</a></li>
                    
                        <li><a href="../index.html">Administrator Guide</a></li>
                    
                
                <li ><a href="index.html">Rundeck Configuration</a></li>
                <li class="active"><a href="configuration-file-reference.html">Configuration File Reference</a></li>
            </ul>
            </div>
            <div class="column">
            <ul>
                <li class="previous"><a href="localization.html"><i class="fas fa-arrow-left"></i>Localization</a></li>
                <li class="next"><a href="system-properties-configuration.html">System Properties Configuration <i class="fas fa-arrow-right"></i></a></li>
            </ul>
            </div>
        </div>
    </nav>
    <div class="breadcrumb-footer">
        <a class="btn btn-link bottom" href="https://github.com/rundeck/docs/issues/new?labels=bug&title=Documentation+bug+in+file+administration/configuration/config-file-reference.md&template=documentation-bug.md"> <i class="fas fa-flag"></i> Report a problem </a>
        <a class="btn btn-link bottom btn-edit-this-page" href="https://github.com/rundeck/docs/edit/3.0.x/en/administration/configuration/config-file-reference.md"><i class="fas fa-pencil-alt"></i> Edit this page</a>
    </div>
</div>
<footer class="brand-footer">
  <div class="container">
    <div class="columns" style="margin-bottom:0;padding-top:5em;padding-bottom:5em">
      <div class="column is-1" style="padding-top:1.3em"><span><svg width="39" height="40" viewBox="0 0 39 40"
            xmlns="http://www.w3.org/2000/svg">
            <g fill="#F7403A" fill-rule="evenodd">
              <path
                d="M0 39.175h26.17l4.883-7.702H4.883zM31.053 8.368L26.17.665H0l4.883 7.703zM35.936 16.07H9.766l2.44 3.85-2.44 3.851h26.17l2.44-3.852z">
              </path>
            </g>
          </svg></span></div>
      <div class="column is-4">
        <div class="contact"><a href="tel:8336774376" class="phone is-size-3 has-text-weight-bold">(833) OPS-HERO</a>
          <div class="address address has-text-weight-bold is-size-5" style="margin-top:1em">2317
            Broadway, Suite 130
            <br>Redwood City, CA 94063
          </div>
          <div>
            <ul class="social-links">
              <li class="social-link"><a href="https://www.linkedin.com/company/17928739" role="menuitem"
                  target="_blank" aria-label="Linkedin" class="button social-link__icon"><svg aria-hidden="true"
                    focusable="false" data-prefix="fab" data-icon="linkedin" role="img"
                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"
                    class="svg-inline--fa fa-linkedin fa-w-14">
                    <path fill="currentColor"
                      d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"
                      class=""></path>
                  </svg></a></li>
              <li class="social-link"><a href="https://twitter.com/rundeck" role="menuitem" target="_blank"
                  aria-label="Twitter" class="button social-link__icon"><svg aria-hidden="true" focusable="false"
                    data-prefix="fab" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 512 512" class="svg-inline--fa fa-twitter fa-w-16">
                    <path fill="currentColor"
                      d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"
                      class=""></path>
                  </svg></a></li>
            </ul>
          </div>
          <div class="copyright">
            <span class="copyright-text" style="font-weight:500;font-size:14px">©2019 Rundeck.
              All Rights Reserved.</span> 
              <br />
              <span class="generated-date" title="2019-08-01T01:07:22UTC">2019-08-01T01:07:22UTC</span>
          </div>
        </div>
      </div>
      <div class="column">
        <ul class="marketing-site-nav is-size-5 has-text-weight-semibold">
          <li><a href="https://www.rundeck.com/about" role="menuitem">About</a>
          </li>
          <li><a href="https://www.rundeck.com/about/team" role="menuitem">Team</a></li>
          <li><a href="https://www.rundeck.com/careers" role="menuitem">Careers</a></li>
          <li><a href="https://www.rundeck.com/news" role="menuitem">News</a>
          </li>
          <li><a href="https://www.rundeck.com/events" role="menuitem">Events</a>
          </li>
          <li><a href="https://www.rundeck.com/privacy-policy" role="menuitem">Privacy Policy</a></li>
          <li><a href="https://www.rundeck.com/terms" role="menuitem">Terms of
              Use</a></li>
          <li><a href="https://www.rundeck.com/contact" role="menuitem">Contact</a></li>
          <li><a href="https://www.rundeck.com/demo" role="menuitem">Request a
              Demo</a></li>
        </ul>
      </div>
    </div>
    <div class="creative-commons">
      <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">Rundeck Documentation</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://rundeck.com" property="cc:attributionName" rel="cc:attributionURL">Rundeck, Inc</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License. </a>
    </div>
  </div>
</footer>

<script type="text/javascript">
   var _gaq = [['_setAccount', 'UA-529275-13'], ['_trackPageview']];
   (function(d, t) {
    var g = d.createElement(t),
        s = d.getElementsByTagName(t)[0];
    g.async = true;
    g.src = ('https:' == location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g, s);
   })(document, 'script');
  </script>

<script>window.markdeepOptions={mode:'html'};</script>
<!-- Markdeep: --><script src="../../markdeep.min.js"></script>
<!-- <script src="https://casual-effects.com/markdeep/latest/markdeep.min.js"></script> -->

<!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/2768099.js"></script>
<!-- End of HubSpot Embed Code -->
<div class='scrolltop'>
<div class='scrollitem icon'>
<i class="fas fa-chevron-up" ></i>
</div>
</div>
</body>
</html>
