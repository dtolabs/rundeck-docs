<!DOCTYPE html>
<html>
<head>
  <title>Configuring</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="pandoc" />
<link href="https://fonts.googleapis.com/css?family=Lato:400,400i,700,700i" rel="stylesheet">
<script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>

<!-- Latest compiled and minified JavaScript -->

<script type="text/javascript">
var jq = jQuery.noConflict();
jq(document).ready(function(){
  jq('.navbar-burger').click(function(){
    jq('.navbar-menu').toggle();
  });
})
jq(window).scroll(function() {
    if (jq(this).scrollTop() > 50 ) {
        jq('.scrolltop:hidden').stop(true, true).fadeIn();
    } else {
        jq('.scrolltop').stop(true, true).fadeOut();
    }
});
jq(function(){jq(".scrollitem").click(function(){jq("html,body").animate({scrollTop:jq("body").offset().top},"1000");return false})})
jq(window).scroll(function() {    
    var scroll = jq(window).scrollTop();
    if (scroll >= 250) {
      jq(".navbar").addClass("has-shadow");
    } else {
      jq(".navbar").removeClass("has-shadow");
    }
}); //missing );

window._pageRelpath="../../../";
jQuery(function(){
  jQuery('table').addClass('table table-condensed table-responsive'); 
  // jQuery('[data-toggle="popover"]').popover();
});
</script>

  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../../styles.css" type="text/css" />
</head>
<body data-spy="scroll" data-target=".toc-nav" class="navbar-is-fixed-top">
<nav role="navigation" aria-label="main navigation" class="navbar is-fixed-top">
  <div class="container">
    <div class="navbar-brand"><a href="https://www.rundeck.com/open-source" class="navbar-item logo"><span
          data-v-ddc5174c=""><svg width="159" height="23" viewBox="0 0 159 23" xmlns="http://www.w3.org/2000/svg"
            class="logo-image" data-v-ddc5174c="">
            <g class="logo-type" fill="none" fill-rule="evenodd" data-v-ddc5174c="">
              <path
                d="M36.133 10.399v-6.26h1.073c2.78 0 4.17 1.01 4.17 3.028 0 2.155-1.43 3.232-4.285 3.232h-.959zm6.963.332c.813-1.005 1.219-2.206 1.219-3.603 0-1.788-.648-3.227-1.942-4.317-1.174-.98-3.081-1.47-5.722-1.47h-3.535v19.725h3.017v-8.074h.542l5.71 8.074h3.69l-6.189-8.407c1.33-.28 2.4-.923 3.21-1.928zM60.561 13.222c0 1.72-.28 2.96-.842 3.716-.836 1.134-2.02 1.7-3.547 1.7-1.52 0-2.697-.566-3.534-1.7-.56-.783-.84-2.021-.84-3.716V1.341H48.78V14.04c0 2.077.656 3.789 1.968 5.135 1.467 1.499 3.276 2.247 5.424 2.247 2.15 0 3.961-.748 5.438-2.247 1.312-1.346 1.967-3.058 1.967-5.135V1.341h-3.016v11.881zM82.944 15.048L68.367 0v21.065h3.016V7.256l14.577 15.01V1.341h-3.016zM100.938 16.428a6.872 6.872 0 0 1-2.434 1.418c-.897.282-2.024.422-3.379.422h-1.359V4.138h1.36c2.571 0 4.518.602 5.838 1.802 1.468 1.346 2.201 3.1 2.201 5.264 0 2.146-.742 3.887-2.227 5.224m2.175-12.544c-1.019-.92-2.153-1.571-3.404-1.955-1.166-.392-2.753-.588-4.764-.588H90.75v19.724h4.142c2.028 0 3.595-.183 4.7-.55 1.182-.365 2.312-1.017 3.391-1.954 2.15-1.873 3.224-4.325 3.224-7.357 0-3.024-1.03-5.463-3.094-7.32M110.001 21.065h11.03v-2.797h-8.014v-6.592h7.78V8.878h-7.78V4.14h8.014V1.341h-11.03zM126.52 4.574c-1.684 1.966-2.526 4.206-2.526 6.72 0 2.8 1.006 5.194 3.017 7.177 2.02 1.968 4.458 2.951 7.314 2.951 1.9 0 3.711-.48 5.437-1.442v-3.59c-.49.409-.96.758-1.404 1.047-.445.29-.873.52-1.288.69-.743.34-1.644.512-2.706.512-2.054 0-3.789-.712-5.205-2.133-1.415-1.424-2.122-3.17-2.122-5.24 0-2.094.707-3.864 2.122-5.313 1.407-1.457 3.138-2.184 5.192-2.184 1.865 0 3.668.72 5.411 2.159V2.402c-1.674-.963-3.408-1.444-5.204-1.444-3.288 0-5.967 1.205-8.039 3.615M149.912 10.27l9.037-8.928h-4.027l-7.78 7.869V1.34h-3.016v19.724h3.016v-8.163l.62-.613 7.199 8.776H159z"
                fill="#000" data-v-ddc5174c=""></path>
              <g class="logo-arrow" fill="#F7403A" data-v-ddc5174c="">
                <path
                  d="M0 21.065h13.404l2.501-3.945H2.501zM15.905 5.286L13.404 1.34H0l2.501 3.945zM18.406 9.23H5.002l1.25 1.973-1.25 1.973h13.404l1.25-1.973z"
                  data-v-ddc5174c=""></path>
              </g>
            </g>
          </svg></span></a> <a role="button" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample"
        class="navbar-burger burger"><span aria-hidden="true"></span> <span aria-hidden="true"></span> <span
          aria-hidden="true"></span></a></div>
    <div class="navbar-menu">
      <div class="navbar-start">
      </div>
      <div class="navbar-end">
        <div class="navbar-item">
        <form role="search"  action="/search/">
          <div class="field has-addons">
            <div class="control">
              <input class="input" type="text" placeholder="Keyword">
            </div>
            <div class="control">
              <button type="submit" class="button red-button">
                Search
              </button>
            </div>
          </div>
        </form>
        </div>
      </div>
    </div>
  </div>
</nav>
<div class="container">
    <nav class="breadcrumb" aria-label="breadcrumbs">
        <div class="columns">
            <div class="column is-two-thirds">
            <ul>
                
                    
                        <li><a href="../../../index.html">Rundeck Documentation (3.1.x)</a></li>
                    
                        <li><a href="../../index.html">Administrator Guide</a></li>
                    
                        <li><a href="../index.html">Rundeck Configuration</a></li>
                    
                
                <li ><a href="index.html">Configuring Plugins</a></li>
                <li class="active"><a href="configuring.html">Configuring</a></li>
            </ul>
            </div>
            <div class="column">
            <ul>
                <li class="previous"><a href="plugin-types.html"><i class="fas fa-arrow-left"></i>Plugin Types</a></li>
                <li class="next"><a href="bundled-plugins.html">Bundled Plugins <i class="fas fa-arrow-right"></i></a></li>
            </ul>
            </div>
        </div>
    </nav>
    <div class="breadcrumb-footer">
        <a class="btn btn-link top" href="https://github.com/rundeck/docs/issues/new?labels=bug&title=Documentation+bug+in+file+administration/configuration/plugins/configuring.md&template=documentation-bug.md"> <i class="fas fa-flag"></i> Report a problem </a>
        <a class="btn btn-link top btn-edit-this-page" href="https://github.com/rundeck/docs/edit/3.0.x/en/administration/configuration/plugins/configuring.md"><i class="fas fa-pencil-alt"></i> Edit this page</a>
    </div>
</div>
<div id="docbody">
<div class="container">
<div class="columns">
<div class="column is-one-quarter toc-nav">
<section class="section sticky-toc">
<div class="nav">
<ul>
<li><a href="#configuring-plugins-for-use">Configuring Plugins for Use</a><ul>
<li><a href="#workflow-steps">Workflow Steps</a></li>
<li><a href="#node-execution">Node Execution</a></li>
<li><a href="#resource-model-sources">Resource Model Sources</a></li>
<li><a href="#resource-format-generators-and-parsers">Resource Format Generators and Parsers</a></li>
<li><a href="#notifications">Notifications</a></li>
<li><a href="#logging">Logging</a></li>
<li><a href="#storage-plugins">Storage Plugins</a></li>
<li><a href="#storage-converter-plugins">Storage Converter Plugins</a></li>
</ul></li>
</ul>
</div>
</div>
</section>
<div class="column">
<section class="section content">
<div class="page-header">
<h1 class="title">Configuring</h1>
</div>
<h2 id="configuring-plugins-for-use">Configuring Plugins for Use</h2>
<h3 id="workflow-steps">Workflow Steps</h3>
<p>Workflow Step and Workflow Node Step providers are used to define custom steps that can be performed in Workflows.</p>
<p>You can select a step plugin in the GUI when adding a new step to a Workflow. You will be prompted to enter any configuration properties for the step, and can save those configuration values into your workflow.</p>
<p>If you are defining a workflow in an XML/Yaml-formatted file, you can specify the configuration properties there.</p>
<p>Each configuration property has a “scope” defined by the provider. Scoped properties allow default values to be specified at Framework (application) or Project level configuration properties. Properties can also be defined to only exist at Framework or Project levels.</p>
<ol type="1">
<li>Instance (Job) scope: the property values defined in the Job definition</li>
<li>Project scope: property values defined in the Project’s <em>project.properties</em> file</li>
<li>Framework (Application) scope: property values defined in Rundeck’s <em>framework.properties</em> file.</li>
</ol>
<p>When determining the property value to use, Rundeck will evaluate the most-specific scope first (Instance level), and then widen the scope to Project, then Framework definitions.</p>
<p>When you create a Job in the Rundeck GUI, you will be shown the Instance-scope properties as part of the GUI Workflow Builder for any plugin step that you add to your workflow.</p>
<p>When a property can be configured at the framework/project level, you will be able to define it like this:</p>
<p><em>Framework scope property definition in <code>framework.properties</code></em></p>
<pre><code>framework.plugin.[ServiceName].[providerName].[property]=value</code></pre>
<p><em>Project scope property definition in <code>project.properties</code></em></p>
<pre><code>project.plugin.[ServiceName].[providerName].[property]=value</code></pre>
<h3 id="node-execution">Node Execution</h3>
<p>The two <em>Node services</em>, Node Executor and File Copier, are both configured similarly. They are configured for particular nodes on a node-specific basis, or set as a default provider for a project or for the system.</p>
<p>If multiple providers are defined the most specific definition takes precedence in this order:</p>
<ol type="1">
<li>Node specific</li>
<li>Project scope</li>
<li>Framework scope</li>
</ol>
<h4 id="node-specific">Node Specific</h4>
<p>To enable a provider for a node, add an attribute to the node definition.</p>
<p><em>Node Executor provider attributes</em>:</p>
<dl>
<dt><code>node-executor</code></dt>
<dd><p>specifies the provider name for a non-local node.</p>
</dd>
<dt><code>local-node-executor</code></dt>
<dd><p>specifies the provider name for the local (server) node.</p>
</dd>
</dl>
<p><em>FileCopier provider attributes</em>:</p>
<dl>
<dt><code>file-copier</code></dt>
<dd><p>specifies the provider by name for a non-local node.</p>
</dd>
<dt><code>local-file-copier</code></dt>
<dd><p>specifies the provider by name for the local (server) node.</p>
</dd>
</dl>
<p>Example Node in YAML specifying <code>stub</code> NodeExecutor and FileCopier:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="fu">remotehost:</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">    <span class="fu">hostname:</span><span class="at"> remotehost</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3">    <span class="fu">node-executor:</span><span class="at"> stub</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">    <span class="fu">file-copier:</span><span class="at"> stub</span></a></code></pre></div>
<h4 id="project-or-framework-scope">Project or Framework Scope</h4>
<p><em>Node Executor</em></p>
<p>You can define the default connection providers to use for nodes at either the Project or Framework scope (or both). To do so, configure any of the following properties in the <code>project.properties</code> or the <code>framework.properties</code> files.</p>
<dl>
<dt><code>service.NodeExecutor.default.provider</code></dt>
<dd><p>Specifies the default NodeExecutor provider for remote nodes</p>
</dd>
<dt><code>service.NodeExecutor.default.local.provider</code></dt>
<dd><p>Specifies the default Node Executor provider for the local node.</p>
</dd>
</dl>
<p><em>File Copier</em></p>
<dl>
<dt><code>service.FileCopier.default.provider</code></dt>
<dd><p>Specifies the default File Copier provider for remote nodes.</p>
</dd>
<dt><code>service.FileCopier.default.local.provider</code></dt>
<dd><p>Specifies the default File Copier provider for the local node.</p>
</dd>
</dl>
<p>Example <code>project.properties</code> to set default local providers to <code>stub</code>:</p>
<pre><code>service.NodeExecutor.default.local.provider=stub
service.FileCopier.default.local.provider=stub</code></pre>
<h3 id="resource-model-sources">Resource Model Sources</h3>
<p>The <em>Resource Model Sources</em> providers can be configured for a single project in the <code>project.properties</code> file.</p>
<p>You can define multiple Resource Model Sources for the project, and can mix and match the specific providers depending on your needs.</p>
<p>When you define multiple Source providers in a project, then the resulting set of Nodes will effectively be a merge of all the sources, in the order in which they are declared. This means that if two or more Sources provide a definition of a node with the same name, then the definition from lowest Source in the list will be used.</p>
<p>The order that the providers are loaded (and thus the nodes are merged) is:</p>
<ol type="1">
<li><code>project.resources.file</code>: A File Model Source with default configuration.</li>
<li><code>project.resources.url</code>: A URL Model Source with default configuration. (optional)</li>
<li>All <code>resources.source.N</code> configurations in order starting at 1</li>
</ol>
<h4 id="resource-model-source-configuration">Resource Model Source configuration</h4>
<p>The <code>project.properties</code> file for each project allows you to configure the Resource Model Sources in these ways:</p>
<ul>
<li>Define <code>project.resources.file</code> - this file path is used as a File Source path, with <em>autogeneration</em> and <em>includeServerNode</em> both true.</li>
<li>Define <code>project.resources.url</code> - this URL is used as a URL Source url, with caching enabled</li>
</ul>
<p>You may also define a list of more sources in this way:</p>
<p>Starting at index <code>1</code>, define these properties for your Source numbered <code>N</code>:</p>
<pre><code>resources.source.N.type=&lt;provider-name&gt;
resources.source.N.config.&lt;property&gt;=&lt;value&gt;
resources.source.N.config.&lt;property2&gt;=&lt;value2&gt;
...</code></pre>
<p>Using one of the available Resource Model Source provider names for the <code>&lt;provider-name&gt;</code> value. For each Resource Model Source provider, you can specify the configuration properties for the source.</p>
<p>Example project.properties configuration of a default File provider, and two other providers:</p>
<pre><code>project.resources.file=/home/rundeck/projects/example/etc/resources.xml

resources.source.1.type=url
resources.source.1.url=http://server/nodes.yaml

resources.source.2.type=directory
resources.source.2.directory=/home/rundeck/projects/example/resources</code></pre>
<h3 id="resource-format-generators-and-parsers">Resource Format Generators and Parsers</h3>
<p>Resource Format Generators and Parsers define support for file formats that can be generated from or parsed into a set of Resource Node definitions.</p>
<p>These are used by other parts of the system, such as the Resource Model Sources.</p>
<p>There is no configuration necessary to use these providers, however the specific Provider Name that each generator and parser defines has to be known in order to make use of the provider. The specific Provider Name is used as the “format name” when you want to use the parser or generator.</p>
<p>For example, to enable a particular Resource Format parser to be used by a File Resource Model Source (see <a href="../../projects/resource-model-sources/index.html#file-resource-model-source-configuration" title="Administrator Guide - Projects - Node Model Sources - File Resource Model Source Configuration">File Resource Model Source Configuration</a>), you should specify the Provider Name for the parser as the format for the source:</p>
<pre><code>resources.source.1.format=myformat</code></pre>
<p>This would specify the use of “myformat” provider.</p>
<p>In other cases, the exact name of the provider may not be known (for example when loading content from a remote URL). Each Generator and Parser must define a list of MIME Type strings and file extensions that they support. These are used to determine which parser/generator is to be used.</p>
<h3 id="notifications">Notifications</h3>
<p>Notifications can be configured for Jobs, and can be triggered when certain conditions occur. These conditions are called “triggers”, these are the currently available triggers:</p>
<ul>
<li><code>onstart</code> - the Job started</li>
<li><code>onsuccess</code> - the Job succeeded</li>
<li><code>onfailure</code> - the Job failed</li>
<li><code>onavgduration</code> - the Execution exceed the average duration of the Job</li>
<li><code>onretryablefailure</code> - the Job failed but will be retried</li>
</ul>
<p>When you define the Job in the GUI or via <a href="../../../man5/job-xml.html#notification" title="Document Format Reference - JOB-XML - Notification">XML</a> or <a href="../../../man5/job-yaml.html#notification" title="Document Format Reference - JOB-YAML - Notification">Yaml</a>, you can add any of the available Notification plugin types to happen for any of the possible triggers. Each Notification plugin type may have unique configuration properties that you can specify. Each combination of trigger and Notification type has a unique configuration.</p>
<p>When defining configuration values for a plugin, you can usually substitute any “Job context variables” that are listed under <a href="../../../manual/creating-job-workflows.html#context-variables" title="User Guide - Creating Job Workflows - Context Variables">User Guide - Creating Job Workflows - Context Variables</a>. (Note: Some configuration properties of a plugin may not support this feature.)</p>
<p>In addition, you can also use these variables:</p>
<ul>
<li><code>${job.user.name}</code> - the user who executed the job</li>
<li><code>${job.user.email}</code> - the email of the executing user if set in their user profile</li>
<li><code>${job.user.firstName}</code> - the first name of the executing user if set in their user profile</li>
<li><code>${job.user.lastName}</code> - the first name of the executing user if set in their user profile</li>
</ul>
<h3 id="logging">Logging</h3>
<p>Logging plugins consist of Readers and Writers, and Log File Storage. Rundeck has a built-in Reader/Writer called the <strong>Local File Log</strong> that is used by default.</p>
<p>Logging plugins are enabled in the <code>rundeck-config</code> file. You should add an entry identifying the plugin by its “provider name”. For Java plugins, this provider name is defined in the Java code. For Groovy plugins, the provider name is usually just the name of the Groovy script file, such as “MyStreamingLogWriterPlugin”.</p>
<p>To add StreamingLogWriter plugins, add a comma separated list to this entry, note that this will enable these plugins in addition to the <strong>Local File Log Writer</strong>:</p>
<ul>
<li><code>rundeck.execution.logs.streamingWriterPlugins</code>
<ul>
<li>example value: <code>MyStreamingLogWriterPlugin,otherPlugin</code></li>
</ul></li>
</ul>
<p>To change the StreamingLogReader plugin. Note that this will replace the <strong>Local File Log Reader</strong>, but will not disable the <strong>Local File Log Writer</strong>:</p>
<ul>
<li><code>rundeck.execution.logs.streamingReaderPlugin</code>
<ul>
<li>example value: <code>MyStreamingLogReaderPlugin</code></li>
</ul></li>
</ul>
<p>To disable the <strong>Local File Log Writer</strong>:</p>
<ul>
<li><code>rundeck.execution.logs.localFileStorageEnabled</code>
<ul>
<li>value: <code>false</code></li>
</ul></li>
</ul>
<p>To configure a ExecutionFileStorage plugin:</p>
<ul>
<li><code>rundeck.execution.logs.fileStoragePlugin</code>
<ul>
<li>example value: <code>MyFileStoragePlugin</code></li>
</ul></li>
</ul>
<p>Also, if <code>localFileStorageEnabled</code> is <code>false</code>, but no <code>streamingReaderPlugin</code> is enabled, then Rundeck will still default to using the <strong>Local File Log Writer</strong>.</p>
<p>The ExecutionFileStorage plugins also have some associated configuration values that can be used to tune the behavior of the plugins:</p>
<ul>
<li><code>rundeck.execution.logs.fileStorage.storageRetryCount</code>
<ul>
<li>The number of <code>store</code> attempts to try before giving up for a single log file</li>
<li>default value: <code>1</code></li>
</ul></li>
<li><code>rundeck.execution.logs.fileStorage.storageRetryDelay</code>
<ul>
<li>Time to wait between retry attempts</li>
<li>default value: <code>60</code> (seconds)</li>
</ul></li>
<li><code>rundeck.execution.logs.fileStorage.retrievalRetryCount</code>
<ul>
<li>The number of <code>retrieve</code> attempts to try before giving up for a single log file</li>
<li>default value: <code>3</code></li>
</ul></li>
<li><code>rundeck.execution.logs.fileStorage.retrievalRetryDelay</code>
<ul>
<li>Time to wait between retry attempts</li>
<li>default value: <code>60</code> (seconds)</li>
</ul></li>
<li><code>rundeck.execution.logs.fileStorage.remotePendingDelay</code>
<ul>
<li>Grace time to allow after an execution finishes. Clients will see a “pending” message within this period after an execution finishes, even if the storage plugin is unable to find the log file. After this time period, they will see a “not found” message if the plugin is unable to find the log file.</li>
<li>default value: <code>120</code> (seconds)</li>
</ul></li>
<li><code>rundeck.execution.logs.fileStorage.retrievalTasks.concurrencyLimit</code>
<ul>
<li>concurrency for retrieval tasks</li>
<li>default: 5</li>
</ul></li>
<li><code>rundeck.execution.logs.fileStorage.storageTasks.concurrencyLimit</code>
<ul>
<li>concurrency for storage tasks</li>
<li>default: 10</li>
</ul></li>
<li><code>rundeck.execution.logs.fileStorage.scheduledTasks.poolSize</code>
<ul>
<li>threadpool size for log storage retry scheduling (retries)</li>
<li>default: 5</li>
</ul></li>
</ul>
<p>For plugins that support Partial/Checkpoint log storage, these additional configuration properties can be set:</p>
<ul>
<li><code>rundeck.execution.logs.fileStorage.checkpoint.time.interval</code> default: <code>30s</code> (30 seconds)
<ul>
<li>This is the time interval between submitting a new partial log storage request</li>
</ul></li>
<li><code>rundeck.execution.logs.fileStorage.checkpoint.time.minimum</code> default: <code>30s</code> (30 seconds)
<ul>
<li>This is the minimum time to wait until the first partial log storage request</li>
</ul></li>
<li><code>rundeck.execution.logs.fileStorage.checkpoint.fileSize.minimum</code> default: <code>0</code> (no minimum)
<ul>
<li>This is the minimum file size before the first partial log storage request</li>
</ul></li>
<li><code>rundeck.execution.logs.fileStorage.checkpoint.fileSize.increment</code> default: <code>0</code> (no minimum increment)
<ul>
<li>this is the file size change increment required before submitting another partial log storage request</li>
</ul></li>
</ul>
<h4 id="logging-plugin-configuration">Logging Plugin Configuration</h4>
<p>Logging plugins can define configuration properties, which can be set in the <code>framework.properties</code> (system-wide) or <code>project.properties</code> (project-wide). Project-level properties override system-level properties.</p>
<p>To add a configuration property, add a value to the appropriate file in the following format:</p>
<p><code>SCOPE.plugin.TYPE.PROVIDER.PROPERTY=value</code></p>
<p><code>SCOPE</code> is either <code>framework</code> or <code>project</code>.</p>
<p>The <code>TYPE</code> is one of:</p>
<ul>
<li><code>StreamingLogReader</code>, <code>StreamingLogWriter</code>, or <code>ExecutionFileStorage</code></li>
</ul>
<p><code>PROVIDER</code> is the provider name of the plugin.</p>
<h3 id="storage-plugins">Storage Plugins</h3>
<p>Storage plugins for the <a href="../storage-facility.html" title="Administrator Guide - Rundeck Configuration - Storage Facility">Storage Facility</a> are configured in the <code>rundeck-config.properties</code> file.</p>
<p>Two separate “containers” are used, one for Key Storage, and one for Project Definition Storage.</p>
<ul>
<li>Key Storage
<ul>
<li>uses a configuration prefix of <code>rundeck.storage.provider</code></li>
<li>uses <code>file</code> provider by default, stored at the <code>${framework.var.dir}/storage</code> path</li>
<li>stores all content under the <code>/keys</code> top-level path</li>
</ul></li>
<li>Project Definition Storage
<ul>
<li>uses a configuration prefix of <code>rundeck.config.storage.provider</code></li>
<li>uses <code>db</code> provider by default</li>
<li>stores all content under the <code>/projects</code> top-level path</li>
</ul></li>
</ul>
<p>To configure a different Storage Plugin Provider for either <strong>Key Storage</strong> or <strong>Project Definition Storage</strong>, modify your <code>rundeck-config.properties</code> file:</p>
<p>To use the <code>db</code> storage:</p>
<pre><code>[prefix].1.type=db
[prefix].1.path=/</code></pre>
<p>To use the <code>file</code> storage:</p>
<pre><code>[prefix].1.type=file
[prefix].1.path=/
[prefix].1.config.baseDir=${framework.var.dir}/storage</code></pre>
<p>Each Storage Plugin defines its own configuration properties, so if you are using a third-party plugin refer to its documentation. You can set the configuration properties via <code>[prefix].#.config.PROPERTY</code>.</p>
<p>Settings of the Storage Plugin:</p>
<ul>
<li><code>type</code> - plugin provider name to use</li>
<li><code>path</code> - path within the storage tree to apply the storage plugin. If <code>/</code> this would be the root, and apply to all subdirectories. You can add additional providers within a subdirectory such as <code>/subdir</code>, and that plugin would only apply to things within that subdirectory.</li>
<li><code>removePathPrefix</code> - true/false (default: false). By default, the storage plugin will be invoked using the full path that is requested, and if you used <code>path</code> to locate the provider at a subdirectory, the requested path includes the subdirectory name (the prefix). If set to <code>true</code>, the path used when invoking the storage plugin would not include that prefix.</li>
<li><code>config.*</code> - specific configuration properties of the Storage Plugin</li>
</ul>
<p>For the builtin <code>file</code> implementation, these are the configuration properties:</p>
<ul>
<li><code>baseDir</code> - Local filepath to store files and metadata. Default is <code>${framework.var.dir}/storage</code></li>
</ul>
<p>The <code>db</code> implementation has no configuration properties.</p>
<h4 id="using-multiple-storage-plugins">Using Multiple Storage Plugins</h4>
<p>You can combine multiple Storage Plugins to operate over different branches of the Storage Tree, by defining multiple configurations and using the <code>path</code> to locate them within the tree. You could use this, for example, to store some Keys in the database, some on the local filesystem, and some in some other backend provider, such as Vault.</p>
<p>You would defin multiple configurations using sequential index numbers, and apply them to specific <code>path</code> locations.</p>
<p>Example:</p>
<pre><code>rundeck.storage.provider.1.type=db
rundeck.storage.provider.1.path=/keys

rundeck.storage.provider.2.type=file
rundeck.storage.provider.2.path=/keys/local
rundeck.storage.provider.2.config.baseDir=/var/local/rundeck

rundeck.storage.provider.3.type=vault-plugin
rundeck.storage.provider.3.path=/keys/vault
rundeck.storage.provider.3.removePathPrefix=true</code></pre>
<p>In this configuration, anything stored under <code>keys/vault</code> would be stored with the Vault plugin, and the <code>removePathPrefix</code> means that the Vault plugin would not see the <code>keys/vault</code> prefix in the path it uses internally. Anything stored under <code>keys/local</code> would be stored on the filesystem under <code>/var/local/rundeck</code> using the full path (including <code>keys/local</code>). Anything else, e.g. under <code>keys/anotherdir</code> or just under <code>keys</code> would be stored in the DB.</p>
<p>If you define multiple configurations that use the same path, the later configuration would override the previous one. If you define a configuration that uses a subpath of a previous configuration, the most specific path will apply, such as in the <code>keys</code> stored in DB and <code>keys/vault</code> using Vault examples above.</p>
<h3 id="storage-converter-plugins">Storage Converter Plugins</h3>
<p>Storage Converter plugins are configured in the <code>rundeck-config.properties</code> file.</p>
<p>Two separate “containers” are used, one for Key Storage, and one for Project Definition Storage.</p>
<ul>
<li>Key Storage
<ul>
<li>uses a configuration prefix of <code>rundeck.storage.converter</code></li>
</ul></li>
<li>Project Definition Storage
<ul>
<li>uses a configuration prefix of <code>rundeck.config.storage.converter</code></li>
</ul></li>
</ul>
<p>Add an entry in your <code>rundeck-config.properties</code> file declaring the converter plugin which will handle content in subpath of the storage container.</p>
<pre><code>[prefix].1.type=my-encryption-plugin
[prefix].1.path=/keys
[prefix].1.config.foo=my config value</code></pre>
<ul>
<li><code>type</code> - specifies the plugin provider name</li>
<li><code>path</code> - specifies the storage path the converter will apply to</li>
<li><code>resourceSelector</code> - specifies a metadata selector to choose which resources to apply the converter to</li>
<li><code>config.PROP</code> - specifies a plugin configuration property</li>
</ul>
<p>The <code>resourceSelector</code> allows applying the converter to only resources which have the matching metadata. The format for the value is:</p>
<pre><code>key OP value [; key OP value]*</code></pre>
<p>Available metadata keys:</p>
<ul>
<li><code>Rundeck-content-type</code>: the Content type of the stored file</li>
<li><code>Rundeck-key-type</code>: a value of <code>public</code> or <code>private</code> for Keys.</li>
</ul>
<p><code>OP</code> can be <code>=</code> for exact match, or <code>=~</code> for regular expression match.</p>
<p>For example, this will apply only to private key files:</p>
<pre><code>rundeck.storage.converter.1.resourceSelector = Rundeck-key-type=private</code></pre>
<p>If a value for <code>resourceSelector</code> is not specified, the converter plugin will apply to all files in the matching path.</p>
<h4 id="using-multiple-storage-converter-plugins">Using Multiple Storage Converter Plugins</h4>
<p>Similar to using multiple Storage Plugins, you can define multiple converters using sequential indexes and applying them to paths within the root. You can use the same or different converters with different configurations on different parts of the tree.</p>
<p>Note that multiple Storage Converter Plugin configurations can be defined that apply to the same paths. In that case all matching Storage Converter Plugins will be applied to the paths during reading and writing of storage contents, in the order that they are declared.</p>
</section>
</div>
</div>
</div>
</div>
<div class="container">
    <nav class="breadcrumb" aria-label="breadcrumbs">
        <div class="columns">
            <div class="column is-two-thirds">
            <ul>
                
                    
                        <li><a href="../../../index.html">Rundeck Documentation (3.1.x)</a></li>
                    
                        <li><a href="../../index.html">Administrator Guide</a></li>
                    
                        <li><a href="../index.html">Rundeck Configuration</a></li>
                    
                
                <li ><a href="index.html">Configuring Plugins</a></li>
                <li class="active"><a href="configuring.html">Configuring</a></li>
            </ul>
            </div>
            <div class="column">
            <ul>
                <li class="previous"><a href="plugin-types.html"><i class="fas fa-arrow-left"></i>Plugin Types</a></li>
                <li class="next"><a href="bundled-plugins.html">Bundled Plugins <i class="fas fa-arrow-right"></i></a></li>
            </ul>
            </div>
        </div>
    </nav>
    <div class="breadcrumb-footer">
        <a class="btn btn-link bottom" href="https://github.com/rundeck/docs/issues/new?labels=bug&title=Documentation+bug+in+file+administration/configuration/plugins/configuring.md&template=documentation-bug.md"> <i class="fas fa-flag"></i> Report a problem </a>
        <a class="btn btn-link bottom btn-edit-this-page" href="https://github.com/rundeck/docs/edit/3.0.x/en/administration/configuration/plugins/configuring.md"><i class="fas fa-pencil-alt"></i> Edit this page</a>
    </div>
</div>
<footer class="brand-footer">
  <div class="container">
    <div class="columns" style="margin-bottom:0;padding-top:5em;padding-bottom:5em">
      <div class="column is-1" style="padding-top:1.3em"><span><svg width="39" height="40" viewBox="0 0 39 40"
            xmlns="http://www.w3.org/2000/svg">
            <g fill="#F7403A" fill-rule="evenodd">
              <path
                d="M0 39.175h26.17l4.883-7.702H4.883zM31.053 8.368L26.17.665H0l4.883 7.703zM35.936 16.07H9.766l2.44 3.85-2.44 3.851h26.17l2.44-3.852z">
              </path>
            </g>
          </svg></span></div>
      <div class="column is-4">
        <div class="contact"><a href="tel:8336774376" class="phone is-size-3 has-text-weight-bold">(833) OPS-HERO</a>
          <div class="address address has-text-weight-bold is-size-5" style="margin-top:1em">2317
            Broadway, Suite 130
            <br>Redwood City, CA 94063
          </div>
          <div>
            <ul class="social-links">
              <li class="social-link"><a href="https://www.linkedin.com/company/17928739" role="menuitem"
                  target="_blank" aria-label="Linkedin" class="button social-link__icon"><svg aria-hidden="true"
                    focusable="false" data-prefix="fab" data-icon="linkedin" role="img"
                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"
                    class="svg-inline--fa fa-linkedin fa-w-14">
                    <path fill="currentColor"
                      d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"
                      class=""></path>
                  </svg></a></li>
              <li class="social-link"><a href="https://twitter.com/rundeck" role="menuitem" target="_blank"
                  aria-label="Twitter" class="button social-link__icon"><svg aria-hidden="true" focusable="false"
                    data-prefix="fab" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 512 512" class="svg-inline--fa fa-twitter fa-w-16">
                    <path fill="currentColor"
                      d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"
                      class=""></path>
                  </svg></a></li>
            </ul>
          </div>
          <div class="copyright">
            <span class="copyright-text" style="font-weight:500;font-size:14px">©2019 Rundeck.
              All Rights Reserved.</span> 
              <br />
              <span class="generated-date" title="2019-07-30T22:57:01UTC">2019-07-30T22:57:01UTC</span>
          </div>
        </div>
      </div>
      <div class="column">
        <ul class="marketing-site-nav is-size-5 has-text-weight-semibold">
          <li><a href="https://www.rundeck.com/about" role="menuitem">About</a>
          </li>
          <li><a href="https://www.rundeck.com/about/team" role="menuitem">Team</a></li>
          <li><a href="https://www.rundeck.com/careers" role="menuitem">Careers</a></li>
          <li><a href="https://www.rundeck.com/news" role="menuitem">News</a>
          </li>
          <li><a href="https://www.rundeck.com/events" role="menuitem">Events</a>
          </li>
          <li><a href="https://www.rundeck.com/privacy-policy" role="menuitem">Privacy Policy</a></li>
          <li><a href="https://www.rundeck.com/terms" role="menuitem">Terms of
              Use</a></li>
          <li><a href="https://www.rundeck.com/contact" role="menuitem">Contact</a></li>
          <li><a href="https://www.rundeck.com/demo" role="menuitem">Request a
              Demo</a></li>
        </ul>
      </div>
    </div>
    <div class="creative-commons">
      <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">Rundeck Documentation</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://rundeck.com" property="cc:attributionName" rel="cc:attributionURL">Rundeck, Inc</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License. </a>
    </div>
  </div>
</footer>

<script type="text/javascript">
   var _gaq = [['_setAccount', 'UA-529275-13'], ['_trackPageview']];
   (function(d, t) {
    var g = d.createElement(t),
        s = d.getElementsByTagName(t)[0];
    g.async = true;
    g.src = ('https:' == location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g, s);
   })(document, 'script');
  </script>

<script>window.markdeepOptions={mode:'html'};</script>
<!-- Markdeep: --><script src="../../../markdeep.min.js"></script>
<!-- <script src="https://casual-effects.com/markdeep/latest/markdeep.min.js"></script> -->

<!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/2768099.js"></script>
<!-- End of HubSpot Embed Code -->
<div class='scrolltop'>
<div class='scrollitem icon'>
<i class="fas fa-chevron-up" ></i>
</div>
</div>
</body>
</html>
