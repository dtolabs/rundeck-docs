<!DOCTYPE html>
<html>
<head>
  <title>Amazon EC2 Resource Model Source</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="pandoc" />
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">

<script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script type="text/javascript">
jQuery(function(){
  jQuery('table').addClass('table table-condensed table-responsive'); 
  jQuery('[data-toggle="popover"]').popover();
});
</script>
  <link rel="stylesheet" href="../../../style.css" type="text/css" />
</head>
<body data-spy="scroll" data-target=".toc-nav">
<nav class="navbar navbar-inverse navbar-static-top" role="navigation">
  <!-- Brand and toggle get grouped for better mobile display -->
  <div class="container-fluid">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="https://www.rundeck.com/open-source">
      Rundeck
      <p class="small rd_version">← Return to Rundeck Project</p>
    </a>
  </div>
  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    <form class="navbar-form navbar-right" role="search"  action="/search/">
      <div class="form-group">
        <input type="text" class="form-control" name="q" placeholder="Search">
      </div>
      <button type="submit" class="btn btn-default">Submit</button>
    </form>
  </div>
  </div>
</nav>

<div class="container top breadcrumb_holder">
<div class="row">
<div class="col-sm-6">
<ol class="breadcrumb top">

    
        <li><a href="../../../index.html">Rundeck Documentation (3.0.x)</a></li>
    
        <li><a href="../../index.html">Administrator Guide</a></li>
    
        <li><a href="../index.html">Projects</a></li>
    
    
    <li ><a href="index.html">Node Model Sources</a></li>
    <li class="active"><a href="aws-ec2-nodes.html">AWS EC2 Nodes</a></li>
</ol>
</div>
<div class="col-sm-6">
    <ul class="pager">
      <li class="previous"><a href="built-in-plugins-file-directory-url-script.html"><i class="glyphicon glyphicon-arrow-left"></i> Built in Plugins (File, Directory, URL, Script)</a></li>
      <li class="next"><a href="azure.html">Azure <i class="glyphicon glyphicon-arrow-right"></i></a></li>
    </ul>
</div>
</div>
<div class="row">
<div class="col-sm-12 text-right">
    <a class="btn btn-link top" href="https://github.com/rundeck/docs/issues/new?labels=bug&title=Documentation+bug+in+file+administration/projects/resource-model-sources/aws.md&template=documentation-bug.md"><i class="glyphicon glyphicon-flag"></i> Report a problem</a>
    <a class="btn btn-link top btn-edit-this-page" href="https://github.com/rundeck/docs/edit/3.0.x/en/administration/projects/resource-model-sources/aws.md"><i class="glyphicon glyphicon-pencil"></i>  Edit this page</a>
</div>
</div>
</div>
<div id="docbody">
<div class="container">
<div class="row">
<div class="col-sm-9">
<div class="page-header">
<h1 class="title">Amazon EC2 Resource Model Source</h1>
</div>
<p><a href="https://aws.amazon.com/ec2/">Amazon’s EC2</a> (Elastic Cloud Compute) is a cloud service in wide use for dynamic infrastructure; it is easy to start up and shut down Node “Instances” in the cloud.</p>
<p>For Rundeck, we would like to have a way of querying the EC2 service to see what EC2 Instances are available for use as Rundeck Nodes.</p>
<p>Amazon has a well-defined API for communication with their services, which would allow us to pull out the EC2 data, and generate XML if we wanted to. We could write a script that produces that data and use that script on a server to produce data via a URL, or we could use that script with the <a href="built-in-resource-model-source-plugins.html#script-resource-model-source-configuration">script resource model source plugin</a> to generate it. This would give us complete control of the output, but does require extra work.</p>
<p>However, there is already a plugin to do this for you: the <a href="https://github.com/rundeck-plugins/rundeck-ec2-nodes-plugin">Rundeck EC2 Nodes Plugin</a>.</p>
<ul>
<li><a href="https://github.com/rundeck-plugins/rundeck-ec2-nodes-plugin">rundeck-ec2-nodes-plugin</a> project source code on github</li>
<li><a href="https://github.com/rundeck-plugins/rundeck-ec2-nodes-plugin/downloads">download the binary distribution</a>.</li>
</ul>
<p>Use is fairly simple:</p>
<ol type="1">
<li>Copy the plugin file “rundeck-ec2-nodes-plugin-1.2.jar” into your <code>$RDECK_BASE/libext</code> directory. The plugin contains all of the required dependencies.</li>
<li>Login to Rundeck with an administrator account, and click the “Admin” link in the page header for your project then click the “Configure Project” link, <em>or</em> create a new project.</li>
<li>In the project configuration page, under <strong>Resource Model Sources</strong> click the “Add Source” button.</li>
<li>Click “Add” for the “AWS EC2 Resources” type.</li>
<li>Enter the configuration details (see below) for the plugin and click “Save”.</li>
<li>Click “Save” for the Project Configuration.</li>
</ol>
<p>Minimal configuration details for the plugin includes your AWS access credentials you can find here <a href="https://console.aws.amazon.com/iam/home" class="uri">https://console.aws.amazon.com/iam/home</a></p>
<dl>
<dt><em>Access Key</em></dt>
<dd>Specify your AWS Access key.
</dd>
<dt><em>Secret Key</em></dt>
<dd>Specify your AWS Secret Key
</dd>
</dl>
<p>Read about the other configuration details in the <a href="https://github.com/rundeck-plugins/rundeck-ec2-nodes-plugin/blob/master/Readme.md">readme</a> for the rundeck-ec2-nodes-plugin.</p>
<p>Finally, within Rundeck, you can Refresh the Nodes from within the Run tab. You should see a Node entry for each EC2 Instance that is available.</p>
<p>You can manage the set of Nodes that gets returned from the plugin by organizing your EC2 instances using EC2 Tags, as well as adding EC2 Filters to the plugin configuration.</p>
<p>The EC2 plugin will automatically add tags for the nodes based on an EC2 Instance Tag named “Rundeck-Tags”, as well as the Instance’s state. You can also add “Mapping parameters” to the EC2 Plugin configuration to add additional tags.</p>
<p>You can add filters to the EC2 Plugin configuration under the “Filter Params” configuration area, with the syntax of: <code>filter=value;filter2=value2</code>. The available filter names are listed in <a href="https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DescribeInstances.html">AWS API - DescribeInstances</a>.</p>
<p>You can also configure your EC2 Plugin manually or automatically by creating or modifying the [project.properties] file, and defining a [Resource Model Source] provider, like this:</p>
<pre><code>resources.source.1.type=aws-ec2
resources.source.1.config.accessKey=...
resources.source.1.config.privateKey=...
resources.source.1.config.filter=...</code></pre>
<p>More configuration is available for the <a href="https://github.com/rundeck-plugins/rundeck-ec2-nodes-plugin">rundeck-ec2-nodes-plugin project</a>.</p>
</div>
</div>
</div>
</div>

<div class="container bottom breadcrumb_holder">
<div class="row">
<div class="col-sm-6">
<ol class="breadcrumb bottom">

    
        <li><a href="../../../index.html">Rundeck Documentation (3.0.x)</a></li>
    
        <li><a href="../../index.html">Administrator Guide</a></li>
    
        <li><a href="../index.html">Projects</a></li>
    
    
    <li ><a href="index.html">Node Model Sources</a></li>
    <li class="active"><a href="aws-ec2-nodes.html">AWS EC2 Nodes</a></li>
</ol>
</div>
<div class="col-sm-6">
    <ul class="pager">
      <li class="previous"><a href="built-in-plugins-file-directory-url-script.html"><i class="glyphicon glyphicon-arrow-left"></i> Built in Plugins (File, Directory, URL, Script)</a></li>
      <li class="next"><a href="azure.html">Azure <i class="glyphicon glyphicon-arrow-right"></i></a></li>
    </ul>
</div>
</div>
<div class="row">
<div class="col-sm-12 text-right">
    <a class="btn btn-link bottom" href="https://github.com/rundeck/docs/issues/new?labels=bug&title=Documentation+bug+in+file+administration/projects/resource-model-sources/aws.md&template=documentation-bug.md"><i class="glyphicon glyphicon-flag"></i> Report a problem</a>
    <a class="btn btn-link bottom btn-edit-this-page" href="https://github.com/rundeck/docs/edit/3.0.x/en/administration/projects/resource-model-sources/aws.md"><i class="glyphicon glyphicon-pencil"></i>  Edit this page</a>
</div>
</div>
</div>
<div class='container footer'>

<div class="row">
	<footer class="copy col-sm-12 text-muted">

<p>
<a class="btn btn-info btn-try-rundeck-pro" href="http://rundeck.com/" data-toggle="popover" data-trigger="hover" 
data-content="<ul class=&quot;list-unstyled&quot;>
	<li><i class=&quot;glyphicon glyphicon-gift&quot;></i> Try Rundeck Pro for Free</li>
	<li><i class=&quot;glyphicon glyphicon-flash&quot;></i> Get Exclusive Features</li>
	<li><i class=&quot;glyphicon glyphicon-briefcase&quot;></i> Get Professional Support</li>
	<li><i class=&quot;glyphicon glyphicon-heart&quot;></i> Support Open-source Development</li>
	<li><i class=&quot;glyphicon glyphicon-thumbs-up&quot;></i> Get home by 5 </li>
</ul>" data-html="true">
<i class="glyphicon glyphicon-hand-right"></i>
Try Rundeck Pro
</a>
</p>

<span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">Rundeck Documentation</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://simplifyops.com" property="cc:attributionName" rel="cc:attributionURL">Rundeck, Inc</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
<p>
&copy;2018 <a href="http://rundeck.com">Rundeck</a>
</p>
<p>
<span class="generated-date" title="2018-10-23T17:42:36UTC">2018-10-23T17:42:36UTC</span>
</p>
</footer>
</div>
</div>
<script type="text/javascript">
  

   var _gaq = [['_setAccount', 'UA-529275-13'], ['_trackPageview']];
   (function(d, t) {
    var g = d.createElement(t),
        s = d.getElementsByTagName(t)[0];
    g.async = true;
    g.src = ('https:' == location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g, s);
   })(document, 'script');
  </script>
<!-- Start of HubSpot Embed Code -->
<script type=“text/javascript” id=“hs-script-loader” async defer src=“//js.hs-scripts.com/2768099.js”></script>
<!-- End of HubSpot Embed Code -->

<script>window.markdeepOptions={mode:'html'};</script>
<!-- Markdeep: --><script src="../../../markdeep.min.js"></script>
<!-- <script src="https://casual-effects.com/markdeep/latest/markdeep.min.js"></script> -->
</body>
</html>
