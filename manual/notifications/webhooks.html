<!DOCTYPE html>
<html>
<head>
  <title>Webhooks</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="pandoc" />
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">

<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript">
jQuery(function(){
  jQuery('table').addClass('table table-condensed table-responsive'); 
  jQuery('[data-toggle="popover"]').popover();
});
</script>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../style.css" type="text/css" />
</head>
<body data-spy="scroll" data-target=".toc-nav">
<nav class="navbar navbar-inverse navbar-static-top" role="navigation">
  <!-- Brand and toggle get grouped for better mobile display -->
  <div class="container-fluid">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="https://www.rundeck.com/open-source">
      Rundeck
      <p class="small rd_version">← Return to Rundeck Project</p>
    </a>
  </div>
  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    <form class="navbar-form navbar-right" role="search"  action="http://rundeck.org/search/">
      <div class="form-group">
        <input type="text" class="form-control" name="q" placeholder="Search">
      </div>
      <button type="submit" class="btn btn-default">Submit</button>
    </form>
  </div>
  </div>
</nav>

<div class="container top breadcrumb_holder">
<div class="row">
<div class="col-sm-6">
<ol class="breadcrumb top">

    
        <li><a href="../../index.html">Rundeck Documentation (3.0.x-SNAPSHOT)</a></li>
    
        <li><a href="../index.html">User Guide</a></li>
    
    
    
    <li class="active"><a href="webhooks.html">Webhooks</a></li>
</ol>
</div>
<div class="col-sm-6">
    <ul class="pager">
      <li class="previous"><a href="email.html"><i class="glyphicon glyphicon-arrow-left"></i> Email</a></li>
      
    </ul>
</div>
</div>
</div>
<div id="docbody">
<div class="container">
<div class="row">
<div class="col-sm-9">
<div class="page-header">
<h1 class="title">Webhooks</h1>
</div>
<p>The Webhooks notification plugin is a builtin plugin that sends POST data to a URL when a job succeeds or fails.</p>
<ul>
<li>For more info about configuring jobs to use webhook notifications, see the chapter <a href="#job-notifications">Job Notifications</a>.</li>
<li>For more info about webhooks in general see: <a href="https://webhooks.pbworks.com/w/page/13385124/FrontPage" class="uri">https://webhooks.pbworks.com/w/page/13385124/FrontPage</a></li>
</ul>
<p>When a Rundeck Job webhook notification is triggered, the server will send a POST request to one or more configured URLs. The request will contain XML content containing information about the Execution that has finished. The request will also contain special HTTP Headers to include some information about the notification and the Execution. You can also configure your URLs to have property tokens that will be replaced with specific details about the Job, Execution or Notification prior to the webhook request being submitted.</p>
<h4 id="execution-notification-content">Execution Notification Content</h4>
<p>The content of the POST request will be XML, with a single <code>&lt;notification&gt;</code> root element. This element will contain <code>&lt;executions..&gt;&lt;execution&gt;...&lt;/execution&gt;&lt;/executions&gt;</code> content. This inner content is of the same format as the XML returned from the Web API for Execution information. See the chapter <a href="../../api/index.html#listing-running-executions">API - Listing Running Executions</a> for more information.</p>
<p>Attributes of the <code>notification</code> element will include:</p>
<dl>
<dt><code>trigger</code></dt>
<dd><p>The type of notification trigger. Either “success” or “failure”.</p>
</dd>
<dt><code>executionId</code></dt>
<dd><p>The ID of the Execution</p>
</dd>
<dt><code>status</code></dt>
<dd><p>The result status of the Execution. Either “succeeded”, “failed” or “aborted”.</p>
</dd>
</dl>
<p><em>Example</em></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode xml"><code class="sourceCode xml"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">&lt;notification</span><span class="ot"> trigger=</span><span class="st">&quot;success&quot;</span><span class="ot"> executionId=</span><span class="st">&quot;[ID]&quot;</span><span class="ot"> status=</span><span class="st">&quot;[STATUS]&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">    <span class="kw">&lt;executions</span><span class="ot"> count=</span><span class="st">&quot;1&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">        <span class="kw">&lt;execution</span> <span class="er">...</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4">            ...</a>
<a class="sourceLine" id="cb1-5" data-line-number="5">        <span class="kw">&lt;/execution&gt;</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6">    <span class="kw">&lt;/executions&gt;</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="kw">&lt;/notification&gt;</span></a></code></pre></div>
<h4 id="execution-notification-headers">Execution Notification Headers</h4>
<p>The POST request will also contain several custom HTTP headers, providing another way to receive some of the webhook information:</p>
<dl>
<dt><code>X-Rundeck-Notification-Trigger</code></dt>
<dd><p>The notification trigger type, either “success” or “failure”.</p>
</dd>
<dt><code>X-Rundeck-Notification-Execution-ID</code></dt>
<dd><p>The Execution ID</p>
</dd>
<dt><code>X-Rundeck-Notification-Execution-Status</code></dt>
<dd><p>The status of the execution, either “succeeded”, “failed”, or “aborted”.</p>
</dd>
</dl>
<h4 id="execution-notification-url-token-expansion">Execution Notification URL Token Expansion</h4>
<p>As well, the URLs configured for the webhook notification may contain tokens that will be expanded with values taken from the associated job and execution, such as <code>${job.name}</code>.</p>
<p>Available tokens for expansion are:</p>
<dl>
<dt><code>job.PROPERTY</code></dt>
<dd><p>Properties about the Job, including:</p>
<dl>
<dt><code>name</code></dt>
<dd><p>the Job name</p>
</dd>
<dt><code>group</code></dt>
<dd><p>The Job group, or a blank string</p>
</dd>
<dt><code>id</code></dt>
<dd><p>the Job Id</p>
</dd>
<dt><code>project</code></dt>
<dd><p>the Project name</p>
</dd>
</dl>
</dd>
<dt><code>execution.PROPERTY</code></dt>
<dd><p>Properties about the Execution, including:</p>
<dl>
<dt><code>id</code></dt>
<dd><p>The Execution ID</p>
</dd>
<dt><code>user</code></dt>
<dd><p>The user who executed the job</p>
</dd>
<dt><code>status</code></dt>
<dd><p>The execution status, one of “succeeded”,“failed”,or “aborted”</p>
</dd>
</dl>
</dd>
<dt><code>notification.trigger</code></dt>
<dd><p>The trigger associated with the notification, one of “success” or “failure”.</p>
</dd>
</dl>
<p>So for example, this URL:</p>
<pre><code>http://server/callback?id=${execution.id}&amp;status=${execution.status}&amp;trigger=${notification.trigger}</code></pre>
<p>Will have the tokens replaced with the appropriate values prior to making the webhook request.</p>
</div>
</div>
</div>
</div>

<div class="container bottom breadcrumb_holder">
<div class="row">
<div class="col-sm-6">
<ol class="breadcrumb bottom">

    
        <li><a href="../../index.html">Rundeck Documentation (3.0.x-SNAPSHOT)</a></li>
    
        <li><a href="../index.html">User Guide</a></li>
    
    
    
    <li class="active"><a href="webhooks.html">Webhooks</a></li>
</ol>
</div>
<div class="col-sm-6">
    <ul class="pager">
      <li class="previous"><a href="email.html"><i class="glyphicon glyphicon-arrow-left"></i> Email</a></li>
      
    </ul>
</div>
</div>
</div>
<div class='container footer'>

<div class="row">
	<footer class="copy col-sm-12 text-muted">

<p>
<a class="btn btn-info btn-try-rundeck-pro" href="http://rundeck.com/" data-toggle="popover" data-trigger="hover" 
data-content="<ul class=&quot;list-unstyled&quot;>
	<li><i class=&quot;glyphicon glyphicon-gift&quot;></i> Try Rundeck Pro for Free</li>
	<li><i class=&quot;glyphicon glyphicon-flash&quot;></i> Get Exclusive Features</li>
	<li><i class=&quot;glyphicon glyphicon-briefcase&quot;></i> Get Professional Support</li>
	<li><i class=&quot;glyphicon glyphicon-heart&quot;></i> Support Open-source Development</li>
	<li><i class=&quot;glyphicon glyphicon-thumbs-up&quot;></i> Get home by 5 </li>
</ul>" data-html="true">
<i class="glyphicon glyphicon-hand-right"></i>
Try Rundeck Pro
</a>
</p>

<span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">Rundeck Documentation</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://simplifyops.com" property="cc:attributionName" rel="cc:attributionURL">Rundeck, Inc</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
<p>
&copy;2018 <a href="http://rundeck.com">Rundeck</a>
</p>
<p>
<span class="generated-date" title="2018-07-24T01:00:11UTC">2018-07-24T01:00:11UTC</span>
</p>
</footer>
</div>
</div>
<script type="text/javascript">
  

   var _gaq = [['_setAccount', 'UA-529275-13'], ['_trackPageview']];
   (function(d, t) {
    var g = d.createElement(t),
        s = d.getElementsByTagName(t)[0];
    g.async = true;
    g.src = ('https:' == location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g, s);
   })(document, 'script');
  </script>
<!-- Start of HubSpot Embed Code -->
<script type=“text/javascript” id=“hs-script-loader” async defer src=“//js.hs-scripts.com/2768099.js”></script>
<!-- End of HubSpot Embed Code -->
</body>
</html>
